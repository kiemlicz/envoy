{# {% import_yaml "defaults.yaml" as defaults %} #}

{% set version_major = '9' %}
{% set java = salt['grains.filter_by']({
    'default': {
        'repo_entries': [
          "deb http://ppa.launchpad.net/webupd8team/java/ubuntu xenial main",
          "deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu xenial main"
        ],
        'file': '/etc/apt/sources.list.d/webupd8team-java.list',
        'exports_file': '/etc/zsh/zshrc',
        'environ_variable': 'JAVA_HOME',
        'path_inside': 'bin',
        'generic_link': '$(readlink -f /usr/bin/java | sed "s:jre/bin/java::")',
        'keyid': "EEA14886",
        'keyserver': "hkp://keyserver.ubuntu.com:80",
        'pkg_name': "oracle-java" + version_major + "-installer",
        'ext_pkgs': [
          "oracle-java" + version_major + "-unlimited-jce-policy"
        ]
    },
}, merge=salt['grains.filter_by']({
   'zesty': {
        'repo_entries': [
           "deb http://ppa.launchpad.net/webupd8team/java/ubuntu zesty main",
           "deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu zesty main"
         ],
   },
   'artful': {
        'repo_entries': [
           "deb http://ppa.launchpad.net/webupd8team/java/ubuntu artful main",
           "deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu artful main"
         ],
   },
}, grain='oscodename', merge=salt['pillar.get']('java'))) %}
