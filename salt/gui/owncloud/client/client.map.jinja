{# https://download.owncloud.org/download/repositories/stable/owncloud/ #}

{% set owncloud = salt['grains.filter_by']({
    'default': {
        'client': {
          'pkg_name': "owncloud-client",
        },
    },
    'Debian': {
        'repo_entries': [
            "deb http://download.opensuse.org/repositories/isv:/ownCloud:/desktop/Debian_9.0/ /"
        ],
        'key_url': 'https://download.opensuse.org/repositories/isv:ownCloud:desktop/Debian_9.0/Release.key',
        'file': '/etc/apt/sources.list.d/owncloud-client.list',
        'client': {
          'pkg_name': "owncloud-client",
        }
    },
    'Windows': {
        'client': {
          'pkg_name': 'owncloud',
        }
    }
}, merge=salt['grains.filter_by']({
    'artful': {
        'repo_entries': [
            "deb http://download.opensuse.org/repositories/isv:/ownCloud:/desktop/Ubuntu_17.10/ /"
        ],
        'key_url': 'https://download.opensuse.org/repositories/isv:ownCloud:desktop/Ubuntu_17.10/Release.key',
    },
    'zesty': {
        'repo_entries': [
          "deb http://download.opensuse.org/repositories/isv:/ownCloud:/desktop/Ubuntu_17.04/ /"
        ],
        'key_url': 'https://download.opensuse.org/repositories/isv:ownCloud:desktop/Ubuntu_17.04/Release.key',
    },
    'yakkety': {
        'repo_entries': [
            "deb http://download.opensuse.org/repositories/isv:/ownCloud:/desktop/Ubuntu_16.10/ /"
        ],
        'key_url': 'https://download.opensuse.org/repositories/isv:ownCloud:desktop/Ubuntu_16.10/Release.key',
    },
    'xenial': {
        'repo_entries': [
            "deb http://download.opensuse.org/repositories/isv:/ownCloud:/desktop/Ubuntu_16.04/ /"
        ],
        'key_url': 'https://download.opensuse.org/repositories/isv:ownCloud:desktop/Ubuntu_16.04/Release.key',
    },

}, grain='oscodename', merge=salt['pillar.get']('owncloud'))) %}
