{% import_yaml "keepass/defaults.yaml" as defaults %}

{% set keepass = salt['grains.filter_by']({
    'Debian': {
        'url': "https://github.com/magkopian/keepassxc-debian/releases/download/2.2.2-1/keepassxc_2.2.2-1_amd64_stable_stretch.deb"
    }
}, merge=salt['grains.filter_by']({
      'stretch': {
        'url': "https://github.com/magkopian/keepassxc-debian/releases/download/2.2.2-1/keepassxc_2.2.2-1_amd64_stable_stretch.deb"
      },
      'jessie': {
        'url': "https://github.com/magkopian/keepassxc-debian/releases/download/2.2.2-1/keepassxc_2.2.2-1_amd64_oldstable_jessie.deb"
      },
  }, grain='oscodename', merge=salt['pillar.get']('keepass', default=defaults.keepass, merge=True))) %}
